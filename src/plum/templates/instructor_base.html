{% extends "base.html" %}
{% from "tables.html" import datatable %}

{% block body %}
<section class="section p-5">
  <h1 class="title">{{ auth['class_name'] }}</h1>
  <div class="tbl_cols">
    <div class="tbl_col">
      <h2 class="is-size-3">Users</h2>
      {{ datatable('users', [('id', 'id'), ('user', 'display_name'), ('#queries', 'num_queries', 'r'), ('1wk', 'num_recent_queries', 'r'), ('active?', 'active', 'b', 'instructor.set_role_active')], users, hidden_cols=['id'], link_col=0, link_template="?user=${value}") }}
      <p class="box p-2 has-background-light"><em>Users that are not active will not be able to access this class.</em></p>
    </div>
    <div class="tbl_col tbl_col_main">
      <h2 class="is-size-3">
        Queries
      <div class="tags is-inline are-medium">
        {% if user %}
        <span class="tag is-info mb-0">
          user={{user}}
          <a class="delete is-small is-link" href="?"></a>
        </span>
        {% endif %}
      </div>
      </h2>
      {% block instructor_queries %}
      {% endblock %}
    </div>
  </div>
</section>
{% endblock %}
